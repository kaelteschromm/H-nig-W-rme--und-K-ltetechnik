<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Neubau / Erneuerung Anfrage | H√ºnig W√§rme- und K√§ltetechnik</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#f7f7f7; --card:#fff; --text:#1a2433; --primary:#14365e;
      --accent:#e63a2e; --cool:#2e7bd9; --ring:rgba(0,0,0,.08);
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .wrap{max-width:900px;margin:0 auto;padding:20px}
    .card{background:var(--card);border-radius:16px;box-shadow:0 6px 24px var(--ring);padding:24px;margin-bottom:20px}

    h1,h2{color:var(--primary)}
    .progress{height:8px;background:#e6e8eb;border-radius:999px;margin:12px 0 20px;overflow:hidden}
    .bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--cool));transition:width .3s}

    .step{display:none}
    .step.active{display:block}
    .q{font-weight:600;margin:12px 0}
    .options{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}
    .opt{border:1px solid #d6dde6;padding:12px;border-radius:10px;cursor:pointer;text-align:center;background:#fff}
    .opt:hover{border-color:var(--primary)}
    .opt.selected{border-color:var(--primary);box-shadow:0 0 0 2px rgba(20,54,94,.2)}

    .field{margin:10px 0;display:flex;flex-direction:column}
    label{margin-bottom:4px;font-size:.95rem;color:var(--primary)}
    input,textarea{padding:10px;border:1px solid #d6dde6;border-radius:10px;font-size:1rem}
    textarea{resize:vertical;min-height:100px}

    .navbtns{display:flex;justify-content:space-between;margin-top:16px}
    .btn{background:var(--primary);color:#fff;border:none;padding:10px 16px;border-radius:10px;cursor:pointer}
    .btn.secondary{background:#ccc;color:#000}
    .btn.success{background:#1a9e68}
    .hint{color:#666;font-size:.9rem;margin-top:8px}

    footer{margin-top:40px;padding:12px;text-align:center;font-size:.9rem;color:#666;background:#fff;border-top:1px solid #ddd}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Anfrage: Neubau / Erneuerung</h1>
      <p>Bitte beantworten Sie die folgenden Fragen Schritt f√ºr Schritt, damit wir Ihnen ein Angebot erstellen k√∂nnen.</p>
      <div class="progress"><div class="bar" id="bar"></div></div>

      <!-- Step 1 -->
      <div class="step active">
        <div class="q">Objektart</div>
        <div class="options">
          <div class="opt" data-key="objekt" data-value="Wohnung">Wohnung</div>
          <div class="opt" data-key="objekt" data-value="Einfamilienhaus">Einfamilienhaus</div>
          <div class="opt" data-key="objekt" data-value="Mehrfamilienhaus">Mehrfamilienhaus</div>
          <div class="opt" data-key="objekt" data-value="Gewerbe">Gewerbe</div>
        </div>
        <div class="field"><label>Wohn-/Nutzfl√§che (m¬≤)</label><input id="flaeche" type="number"></div>
        <div class="field"><label>Baujahr</label><input id="baujahr" type="number"></div>
        <div class="navbtns"><span></span><button class="btn" data-next>N√§chster Schritt</button></div>
      </div>

      <!-- Step 2 -->
      <div class="step">
        <div class="q">Sanierungsstand</div>
        <div class="options">
          <div class="opt" data-key="sanierung" data-value="keine">Keine</div>
          <div class="opt" data-key="sanierung" data-value="teilweise">Teilweise</div>
          <div class="opt" data-key="sanierung" data-value="umfassend">Umfassend</div>
        </div>

        <div class="q">W√§rmeabgabe</div>
        <div class="options">
          <div class="opt" data-key="abgabe" data-value="Heizk√∂rper">Heizk√∂rper</div>
          <div class="opt" data-key="abgabe" data-value="Fu√übodenheizung">Fu√übodenheizung</div>
          <div class="opt" data-key="abgabe" data-value="Beides">Beides</div>
        </div>

        <div class="q">Bisherige Heizart</div>
        <div class="options">
          <div class="opt" data-key="altanlage" data-value="Gas">Gas</div>
          <div class="opt" data-key="altanlage" data-value="√ñl">√ñl</div>
          <div class="opt" data-key="altanlage" data-value="Pellet">Pellet</div>
          <div class="opt" data-key="altanlage" data-value="Andere">Andere</div>
        </div>

        <div class="navbtns"><button class="btn secondary" data-prev>Zur√ºck</button><button class="btn" data-next>N√§chster Schritt</button></div>
      </div>

      <!-- Step 3 -->
      <div class="step">
        <div class="q">Was ist gew√ºnscht?</div>
        <div class="options">
          <div class="opt" data-key="wunsch" data-value="W√§rmepumpe">W√§rmepumpe</div>
          <div class="opt" data-key="wunsch" data-value="Klimaanlage">Klimaanlage</div>
          <div class="opt" data-key="wunsch" data-value="L√ºftung">L√ºftung</div>
        </div>

        <div class="q">Zeitrahmen</div>
        <div class="options">
          <div class="opt" data-key="zeit" data-value="sofort">Sofort</div>
          <div class="opt" data-key="zeit" data-value="3 Monate">In 3 Monaten</div>
          <div class="opt" data-key="zeit" data-value="6 Monate">In 6 Monaten</div>
          <div class="opt" data-key="zeit" data-value="flexibel">Flexibel</div>
        </div>

        <div class="field"><label>Zusatzinfo</label><textarea id="bemerkung"></textarea></div>
        <div class="navbtns"><button class="btn secondary" data-prev>Zur√ºck</button><button class="btn" data-next>N√§chster Schritt</button></div>
      </div>

      <!-- Step 4 -->
      <div class="step">
        <h2>Ihre Kontaktdaten</h2>
        <div class="field"><label>Name *</label><input id="name"></div>
        <div class="field"><label>E-Mail *</label><input id="email" type="email"></div>
        <div class="field"><label>Telefon</label><input id="telefon"></div>
        <div class="field"><label>Adresse</label><input id="adresse"></div>
        <div class="navbtns"><button class="btn secondary" data-prev>Zur√ºck</button><button class="btn success" id="sendBtn">Absenden</button></div>
        <p class="hint">Nach dem Absenden erhalten Sie eine Best√§tigung per Mail.</p>
      </div>
    </div>
  </div>

  <footer>
    ¬© <span id="y"></span> H√ºnig W√§rme- und K√§ltetechnik ¬∑ <a href="impressum.html">Impressum</a> ¬∑ <a href="datenschutz.html">Datenschutz</a>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();
    const steps = document.querySelectorAll(".step"); let current=0;
    const bar=document.getElementById("bar"); const data={};

    function showStep(i){steps.forEach((s,idx)=>s.classList.toggle("active",idx===i));current=i;bar.style.width=((i+1)/steps.length*100)+"%";}

    document.querySelectorAll("[data-next]").forEach(btn=>btn.onclick=()=>{if(current<steps.length-1)showStep(current+1);});
    document.querySelectorAll("[data-prev]").forEach(btn=>btn.onclick=()=>{if(current>0)showStep(current-1);});
    document.querySelectorAll(".opt").forEach(opt=>opt.onclick=()=>{opt.parentElement.querySelectorAll(".opt").forEach(o=>o.classList.remove("selected"));opt.classList.add("selected");data[opt.dataset.key]=opt.dataset.value;});

    document.getElementById("sendBtn").onclick=async()=>{
      const name=document.getElementById("name").value.trim();
      const email=document.getElementById("email").value.trim();
      if(!name||!email){alert("Bitte Name und E-Mail ausf√ºllen");return;}
      const payload={...data,
        flaeche:document.getElementById("flaeche").value,
        baujahr:document.getElementById("baujahr").value,
        bemerkung:document.getElementById("bemerkung").value,
        name,email,
        telefon:document.getElementById("telefon").value,
        adresse:document.getElementById("adresse").value
      };
      // üëâ hier deinen echten Formspree-Link einsetzen
      const res=await fetch("https://formspree.io/f/DEIN_FORM_ID",{
        method:"POST",headers:{"Content-Type":"application/json"},
        body:JSON.stringify(payload)
      });
      alert(res.ok?"Danke! Ihre Anfrage wurde gesendet.":"Fehler beim Senden, bitte per Mail.");
      if(res.ok)window.location="index.html";
    };
  </script>
</body>
</html>
